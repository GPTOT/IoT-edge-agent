apiVersion: v1
kind: ConfigMap
metadata:
  name: edge-configmap
  namespace: redpanda
  labels:
    app: redpanda-edge
data:
  agent.yaml: |
    create_topics: true
    source:
      name: "source"
      bootstrap_servers: redpanda-src:10092 # use secured internal interface
      # List of outbound topics to push from source to destination
      topics:
        - telemetry1
        - telemetry2
      tls:
        enabled: false
        client_key: "/etc/redpanda/certs/agent.key"
        client_cert: "/etc/redpanda/certs/agent.crt"
        ca_cert: "/etc/redpanda/certs/ca.crt"
    destination:
      name: "destination"
      bootstrap_servers: redpanda-dest:10092 # use secured internal interface
      max_version: "3.0.0" # maximum kafka protocol version
